[{"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\index.js":"1","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\App.js":"2","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\app.js":"3","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\component\\navbar.js":"4","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\page\\home.js":"5","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\component\\product.js":"6","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\action\\index.js":"7","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\action\\loginuserAction.js":"8","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\reducer\\index.js":"9","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\reducer\\loginuserReducer.js":"10","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\page\\login.js":"11","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\page\\detail-product.js":"12","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\page\\cartpage.js":"13","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\page\\cartPage.js":"14","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\reducer\\historyreducer.js":"15","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\action\\history-action.js":"16","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\page\\history.js":"17"},{"size":605,"mtime":1608088303484,"results":"18","hashOfConfig":"19"},{"size":345,"mtime":1608086112838,"results":"20","hashOfConfig":"19"},{"size":1159,"mtime":1608102896641,"results":"21","hashOfConfig":"19"},{"size":2151,"mtime":1608101514816,"results":"22","hashOfConfig":"19"},{"size":262,"mtime":1608087131062,"results":"23","hashOfConfig":"19"},{"size":1770,"mtime":1608094297065,"results":"24","hashOfConfig":"19"},{"size":67,"mtime":1608102241365,"results":"25","hashOfConfig":"19"},{"size":186,"mtime":1608087811240,"results":"26","hashOfConfig":"19"},{"size":300,"mtime":1608102191543,"results":"27","hashOfConfig":"19"},{"size":625,"mtime":1608092121582,"results":"28","hashOfConfig":"19"},{"size":7176,"mtime":1608092061037,"results":"29","hashOfConfig":"19"},{"size":6050,"mtime":1608101222025,"results":"30","hashOfConfig":"19"},{"size":13330,"mtime":1608106266159,"results":"31","hashOfConfig":"19"},{"size":13330,"mtime":1608106266159,"results":"32","hashOfConfig":"19"},{"size":201,"mtime":1608102145646,"results":"33","hashOfConfig":"19"},{"size":114,"mtime":1608102222917,"results":"34","hashOfConfig":"19"},{"size":4372,"mtime":1608110502366,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"39"},"ekf3fx",{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"39"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\index.js",["73"],"import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './app'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nimport {\r\n  createStore,\r\n} from 'redux'\r\nimport {\r\n  Provider\r\n} from 'react-redux'\r\nimport AllReducers from './reducer'\r\nconst GlobalState = createStore(AllReducers)\r\n// GlobalState.subscribe(() => console.log('global state', GlobalState.getState()))\r\n\r\nReactDOM.render(\r\n  <Provider store={GlobalState}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n",["74","75"],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\App.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\app.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\component\\navbar.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\page\\home.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\component\\product.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\action\\index.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\action\\loginuserAction.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\reducer\\index.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\reducer\\loginuserReducer.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\page\\login.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\page\\detail-product.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\page\\cartpage.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\page\\cartPage.js",["76"],"import Axios from 'axios'\r\nimport React from 'react'\r\nimport { Button, Form, Image, Table, Modal } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { login } from '../action'\r\n\r\nclass CartPage extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            products: [],\r\n            selectedindex: null,\r\n            newQty: 0,\r\n            reqcheckout: false,\r\n            toHistory: false\r\n        }\r\n        Axios.get(`http://localhost:2000/products`)\r\n            .then((res) => this.setState({ products: res.data }))\r\n            .catch((err) => console.log(err))\r\n    }\r\n    ShowTbleHead = () => {\r\n        let Cart = this.props.cart\r\n        if (Cart.length === 0) return (\r\n            <div style={styles.ortable}></div>\r\n        )\r\n        return (\r\n            <thead>\r\n                <th>No</th>\r\n                <th>Images</th>\r\n                <th>Product Name</th>\r\n                <th>qty</th>\r\n                <th>Total</th>\r\n                <th>Action</th>\r\n            </thead>\r\n        )\r\n    }\r\n    ShowTbleBody = () => {\r\n        console.log(this.state.newQty)\r\n        let Cart = this.props.cart\r\n        if (Cart.length === 0) return (\r\n            <h3 style={styles.ortable}>Your Cart is Empty Click button below to shop :</h3>\r\n        )\r\n        return (\r\n\r\n            <tbody>\r\n                {Cart.map((item, index) => {\r\n                    if (this.state.selectedindex === index) return (\r\n                        <tr key={index}>\r\n                            <td>{index + 1}</td>\r\n                            <td>\r\n                                <Image src={item.image} style={{ height: '100px', width: '100px', borderRadius: '5px' }} />\r\n                            </td>\r\n                            <td>{item.name}</td>\r\n                            <td style={{ display: 'flex' }}>\r\n                                <Button onClick={() => this.minbtn(index)}>➖</Button>\r\n                                <Form.Control style={{ width: '80px' }} onChange={(e) => this.changeQty(e)} value={this.state.newQty} />\r\n                                <Button onClick={() => this.setState({ newQty: parseInt(this.state.newQty) + 1 })} disabled={this.state.newQty >= item.stock}>➕</Button>\r\n                            </td>\r\n                            <td>Rp.{item.totalPrice.toLocaleString()} </td>\r\n                            <td style={{ display: \"flex\" }}>\r\n                                <Button variant='light' style={{ marginRight: '10px' }} onClick={() => this.setState({ selectedindex: null })}>Cancel</Button>\r\n                                <Button variant='light' onClick={() => this.btnsave(index)}>Save</Button>\r\n                            </td>\r\n\r\n                        </tr>\r\n                    )\r\n                    return (\r\n                        <tr key={index}>\r\n                            <td>{index + 1}</td>\r\n                            <td>\r\n                                <Image src={item.image} style={{ height: '100px', width: '100px', borderRadius: '5px' }} />\r\n                            </td>\r\n                            <td>{item.name}</td>\r\n                            <td>{item.qty}</td>\r\n                            <td>Rp.{item.totalPrice.toLocaleString()}</td>\r\n                            <td style={{ display: \"flex\" }}>\r\n                                <Button variant='light' style={{ marginRight: '10px' }} onClick={() => this.btndel(index)}>❌</Button>\r\n                                <Button variant='light' onClick={() => this.setState({ selectedindex: index, newQty: item.qty })}>Edit</Button>\r\n                            </td>\r\n\r\n                        </tr>\r\n                    )\r\n\r\n                })}\r\n            </tbody>\r\n        )\r\n    }\r\n    btnsave = (index) => {\r\n        if (this.state.newQty === 0) return (this.btndel(index))\r\n        let tempProduct = this.props.cart[index]\r\n        tempProduct.qty = parseInt(this.state.newQty)\r\n        tempProduct.totalPrice = this.state.newQty * this.props.cart[index].price\r\n        console.log(tempProduct)\r\n        let tempCart = this.props.cart\r\n        tempCart.splice(index, 1, tempProduct)\r\n        console.log(tempCart)\r\n        Axios.patch(`http://localhost:2000/users/${this.props.id}`, { cart: tempCart })\r\n            .then((res) => {\r\n                console.log(res.data)\r\n                // update data di redux\r\n                Axios.get(`http://localhost:2000/users/${this.props.id}`)\r\n                    .then((res) => {\r\n                        this.props.login(res.data)\r\n                        this.setState({ selectedindex: null })\r\n                    })\r\n                    .catch((err) => console.log(err))\r\n            })\r\n            .catch((err) => console.log(err))\r\n    }\r\n    minbtn = (index) => {\r\n        if (this.state.newQty <= 0) return (this.btndel(index))\r\n\r\n        this.setState({ newQty: this.state.newQty - 1 })\r\n    }\r\n    changeQty = (e) => {\r\n        this.setState({ newQty: e.target.value })\r\n    }\r\n    btndel = (index) => {\r\n        let tempCart = this.props.cart\r\n        tempCart.splice(index, 1)\r\n        Axios.patch(`http://localhost:2000/users/${this.props.id}`, {\r\n            cart: tempCart\r\n        })\r\n            .then((res) => {\r\n                console.log(res.data)\r\n                Axios.get(`http://localhost:2000/users/${this.props.id}`)\r\n                    .then((res) => this.props.login(res.data))\r\n            })\r\n    }\r\n    btndelAll = () => {\r\n        let tempCart = this.props.cart\r\n        tempCart.splice(0)\r\n        Axios.patch(`http://localhost:2000/users/${this.props.id}`, {\r\n            cart: tempCart\r\n        })\r\n            .then((res) => {\r\n                console.log(res.data)\r\n                Axios.get(`http://localhost:2000/users/${this.props.id}`)\r\n                    .then((res) => this.props.login(res.data))\r\n            })\r\n    }\r\n    checkout = () => {\r\n        this.setState({ reqcheckout: true })\r\n    }\r\n    fnTotalPrice = () => {\r\n        let counter = 0\r\n        this.props.cart.map(item => counter += item.totalPrice)\r\n        return counter\r\n    }\r\n    confCheckout = () => {\r\n        let total = this.fnTotalPrice()\r\n        let tempCart = this.props.cart\r\n        let tempProduct = this.state.products\r\n\r\n        let newstock = []\r\n        tempProduct.map((item) => {\r\n            if (item.id === tempCart.id) return (\r\n                newstock.push(item.stock - tempCart.qty)\r\n            )\r\n        })\r\n\r\n        for (let update of newstock) {\r\n            Axios.patch(`http://localhost:2000/products/${update.id}`, { stock: newstock })\r\n                .then((res) => {\r\n                    console.log(res.data)\r\n                })\r\n                .catch((err) => console.log(err))\r\n\r\n        }\r\n\r\n        let history = {\r\n            email: this.props.email,\r\n            date: new Date().toLocaleString(),\r\n            total: total,\r\n            product: tempCart,\r\n            status: \"Waiting Payment\"\r\n        }\r\n        console.log(history)\r\n        // update data history user\r\n        Axios.post('http://localhost:2000/history', history)\r\n            .then((res) => {\r\n                console.log(res.data)\r\n\r\n                // kosongkan cart dan update database\r\n                Axios.patch(`http://localhost:2000/users/${this.props.id}`, { cart: [] })\r\n                    .then((res) => {\r\n                        console.log(res.data)\r\n\r\n                        // update redux\r\n                        Axios.get(`http://localhost:2000/users/${this.props.id}`)\r\n                            .then((res) => {\r\n                                console.log(res.data)\r\n                                this.props.login(res.data)\r\n                                this.setState({ reqchekout: false, toHistory: true })\r\n                            })\r\n                            .catch((err) => console.log(err))\r\n                    })\r\n                    .catch((err) => console.log(err))\r\n            })\r\n            .catch((err) => console.log(err))\r\n    }\r\n    showModal = () => {\r\n        const { reqcheckout } = this.state\r\n        return (\r\n            <div>\r\n\r\n                <Modal show={reqcheckout} onHide={() => this.setState({ reqcheckout: false })}>\r\n                    <Modal.Header closeButton={() => this.setState({ reqcheckout: false })}>\r\n                        <Modal.Title>Confirmation</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <h4>Are you Sure want to Checkout</h4>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => this.setState({ reqcheckout: false })}>\r\n                            Close\r\n                </Button>\r\n                        <Button variant=\"primary\" onClick={this.confCheckout} >\r\n                            Confirm\r\n                </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { toHistory } = this.state\r\n        let TempCart = this.props.cart\r\n        if (!localStorage.email) return <Redirect to='/Login' />\r\n        if (toHistory) return <Redirect to='/History' />\r\n        if (TempCart.length >= 4)\r\n            return (\r\n                <div style={styles.backgroundcontainer}>\r\n                    <div style={styles.container}>\r\n                        <h1 style={styles.body}>On Your Cart</h1>\r\n                        <Table variant='dark' bordered hover borderless style={{ borderRadius: '15px' }} >\r\n                            {this.ShowTbleHead()}\r\n                            {this.ShowTbleBody()}\r\n                        </Table>\r\n                        <Button as={Link} to='/' style={{ marginRight: '10px' }} variant='dark'>Shop</Button>\r\n                        <Button onClick={this.btndelAll} disabled={(TempCart.length === 0)} variant='dark' style={{ marginRight: '10px' }}>Delete All Cart</Button>\r\n                        <div style={styles.body2}>\r\n                            <h1>Total Price: IDR {this.fnTotalPrice().toLocaleString()}</h1>\r\n                            <Button onClick={this.checkout} disabled={(TempCart.length === 0)} variant='danger' style={{ padding: '10px' }}>Checkout</Button>\r\n                        </div>\r\n                    </div>\r\n                    {this.showModal()}\r\n                </div>\r\n            )\r\n        return (\r\n            <div style={styles.backgroundcontainer2}>\r\n                <div style={styles.container}>\r\n                    <h1 style={styles.body}>On Your Cart</h1>\r\n                    <Table variant='dark' bordered hover borderless style={{ borderRadius: '15px' }} >\r\n                        {this.ShowTbleHead()}\r\n                        {this.ShowTbleBody()}\r\n                    </Table>\r\n                    <Button as={Link} to='/' style={{ marginRight: '10px' }} variant='dark'>Shop</Button>\r\n                    <Button onClick={this.btndelAll} disabled={(TempCart.length === 0)} variant='dark' style={{ marginRight: '10px' }}>Delete All Cart</Button>\r\n                    <div style={styles.body2}>\r\n                        <h1>Total Price: IDR {this.fnTotalPrice().toLocaleString()}</h1>\r\n                        <Button onClick={this.checkout} disabled={(TempCart.length === 0)} variant='danger' style={{ padding: '10px' }}>Checkout</Button>\r\n                    </div>\r\n                </div>\r\n                {this.showModal()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst styles = {\r\n    backgroundcontainer: {\r\n        background: 'url(https://images.unsplash.com/photo-1565379793984-e65b51b33b37?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=800&q=80) no-repeat center',\r\n        height: 'auto',\r\n        width: '100wh',\r\n        backgroundSize: 'cover',\r\n        display: 'flex',\r\n    },\r\n    backgroundcontainer2: {\r\n        background: 'url(https://images.unsplash.com/photo-1565379793984-e65b51b33b37?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=800&q=80) no-repeat center',\r\n        height: '115vh',\r\n        width: '100wh',\r\n        backgroundSize: 'cover',\r\n        display: 'flex',\r\n    },\r\n    container: {\r\n        margin: '100px auto',\r\n        width: '1000px',\r\n        height: 'auto',\r\n        backgroundColor: 'rgba(149, 165, 166,0.5)',\r\n        color: 'rgba(47, 53, 66,1.0)',\r\n        padding: '15px',\r\n        borderRadius: '15px'\r\n    },\r\n    body: {\r\n        backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n        borderRadius: '15px',\r\n        textAlign: 'center',\r\n    },\r\n    body2: {\r\n        backgroundColor: 'rgba(75, 75, 75, 0.9)',\r\n        color: 'white',\r\n        padding: '10px',\r\n        borderRadius: '15px',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        marginTop: '20px'\r\n    },\r\n    ortable: {\r\n        textAlign: 'center'\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        id: state.user.id,\r\n        cart: state.user.cart,\r\n        pass: state.user.password,\r\n        email: state.user.email\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { login })(CartPage)","C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\reducer\\historyreducer.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\action\\history-action.js",[],"C:\\Purwadhika\\Belajar\\Front_end\\Ujian\\ujian-frontend-1504\\src\\page\\history.js",[],{"ruleId":"77","severity":1,"message":"78","line":14,"column":7,"nodeType":"79","messageId":"80","endLine":14,"endColumn":18},{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","severity":1,"message":"86","line":157,"column":32,"nodeType":"87","messageId":"88","endLine":157,"endColumn":34},"no-unused-vars","'GlobalState' is assigned a value but never used.","Identifier","unusedVar","no-native-reassign",["89"],"no-negated-in-lhs",["90"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","no-global-assign","no-unsafe-negation"]